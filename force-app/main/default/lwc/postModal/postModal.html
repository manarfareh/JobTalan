<template>
    <lightning-modal-header label={postname}></lightning-modal-header>
    <lightning-modal-body> 
    <lightning-tabset variant="scoped">
     <lightning-tab label="Post Details" if:true={idpost}>
        <div class="container mt-6">
            <div class="container" style="padding-left: 50px; padding-right: 50px; padding-top: 10px; padding-bottom: 10px;">
                <template if:true={post}>
                    <div class="post-details" style="border: 1px solid #007bff; border-radius: 10px; padding: 20px;">
                        <div class="post-header" style="display: flex; justify-content: space-between; margin-bottom: 20px;">
                            <p style="font-size: 23px; color: #333;">{post.Location__c}</p>
                            <p style="font-size: 23px; color: #333;">{post.Contract_Type__c}</p>
                            <p style="font-size: 23px; color: #333;">{post.Salary__c}$</p>
                        </div>
                        <div class="post-content" style="display: flex; flex-wrap: wrap;">
                            <div class="post-description" style="width: 100%; margin-bottom: 5px;">
                                <p style="margin-bottom: 5px; font-size: 16px; color: #333; font-weight: bold;">Description:</p>
                                <p style="padding-left: 10px; margin-bottom: 5px;">{post.Post_Description__c}</p>
                            </div>
                            <div class="post-skills" style="width: 100%; margin-bottom: 5px;">
                                <p style="margin-bottom: 5px; font-size: 16px; color: #333; font-weight: bold;">Skills:</p>
                                <p style="padding-left: 10px; margin-bottom: 5px;">{post.Skills__c}</p>
                            </div>
                            <div class="post-experience" style="width: 100%; padding-right: 20px; margin-bottom: 5px;">
                                <p style="margin-bottom: 5px; font-size: 16px; color: #333; font-weight: bold;">Years of Experience:</p>
                                <p style="padding-left: 10px; margin-bottom: 5px;">{post.Years_Of_Experience__c}</p>
                            </div>
                            <div class="post-start-date" style="width: 100%; padding-right: 20px; margin-bottom: 5px;">
                                <p style="margin-bottom: 5px; font-size: 16px; color: #333; font-weight: bold;">Start Date:</p>
                                <p style="padding-left: 10px; margin-bottom: 5px;">{post.Start_Date__c}</p>
                            </div>
                            <div class="post-Interview" style="width: 100%; padding-right: 20px; margin-bottom: 5px;">
                                <p style="margin-bottom: 5px; font-size: 16px; color: #333; font-weight: bold;">Interview Process:</p>
                                <template for:each={interview} for:item="off">
                                    <div key={off.id} class="interview-step" style="display: flex;">
                                        <p style="padding-left: 10px; margin-bottom: 5px;">{off.Order__c}:</p>
                                        <p style="margin-bottom: 5px;">{off.Interview_Type__c}</p>
                                    </div>
                                </template>
                            </div>
                            <div class="post-diploma" style="width: 100%; padding-right: 20px; margin-bottom: 5px;">
                                <p style="margin-bottom: 5px; font-size: 16px; color: #333; font-weight: bold;">Diploma:</p>
                                <p style="padding-left: 10px; margin-bottom: 5px;">{post.Diploma__c}</p>
                            </div>
                            
                        </div>
                    </div>
                </template>
                <template if:false={post}>
                    <p>No post details found.</p>
                </template>
            </div>
            
            
            <template if:false={post}>
                <p>No post details found.</p>
            </template>
        </div>
    </lightning-tab>
    
            <lightning-tab label="Apply">
                <template if:false={guest}>
                        <form class="slds-form" onsubmit={handleSubmit} style="max-width: 600px; margin: auto;">
                            <!-- Hidden Inputs -->
                            <input type="hidden" name="oid" value="00DQy000005c83J">
                            <input type="hidden" name="retURL" value="https://talan-8d-dev-ed.develop.my.site.com/TalanJobs">
                            <template label="Post Details" if:false={idpost}>
                                <p style="font-size: 1rem; color: #6c757d;text-align: center; padding:10px;">Didn't find the right job offer for you? Want to receive notifications if we add a new job that matches your CV?.</p>
                            </template>
                            <div class="slds-grid slds-wrap">
                                <!-- Column 1 -->
                                <div class="slds-col slds-size_1-of-2">
                                    <div class="slds-form-element slds-m-bottom_small">
                                        <label class="slds-form-element__label" for="first_name" style="color: #005290;">First Name :</label>
                                        <div class="slds-form-element__control">
                                            <input class="slds-input" id="first_name" type="text" name="first_name" maxlength="20" style=" padding: 0.2rem 0.5rem;">
                                        </div>
                                    </div>
                                    <div class="slds-form-element slds-m-bottom_small">
                                        <label class="slds-form-element__label" for="last_name" style="color: #005290;">Last Name :</label>
                                        <div class="slds-form-element__control">
                                            <input class="slds-input" id="last_name" type="text" name="last_name" maxlength="20" style=" padding: 0.2rem 0.5rem;">
                                        </div>
                                    </div>
                                    <div class="slds-form-element slds-m-bottom_small">
                                        <label class="slds-form-element__label" for="email" style="color: #005290;">Email :</label>
                                        <div class="slds-form-element__control">
                                            <input class="slds-input" id="email" type="text" name="email" maxlength="40" style=" padding: 0.2rem 0.5rem;">
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Column 2 -->
                                <div class="slds-col slds-size_1-of-2" style="padding-left:10px;">
                                    <div class="slds-form-element slds-m-bottom_small" style="padding-left:20px;">
                                        <label class="slds-form-element__label" for="city" style="color: #005290;">City :</label>
                                        <div class="slds-form-element__control">
                                            <input class="slds-input" id="city" type="text" name="city" maxlength="20" style=" padding: 0.2rem 0.5rem;">
                                        </div>
                                    </div>
                                    <div class="slds-form-element slds-m-bottom_small" style="padding-left:20px;">
                                        <label class="slds-form-element__label" for="phone" style="color: #005290;">Phone :</label>
                                        <div class="slds-form-element__control" >
                                            <input class="slds-input" id="phone" type="text" name="phone" maxlength="20" style=" padding: 0.2rem 0.5rem;">
                                        </div>
                                    </div>
                                    <div class="slds-form-element slds-m-bottom_small" style="padding-left:20px;">
                                        <label class="slds-form-element__label" for="country" style="color: #005290;">Country :</label>
                                        <div class="slds-form-element__control">
                                            <input class="slds-input" id="country" type="text" name="country" maxlength="20" style=" padding: 0.2rem 0.5rem;">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <template if:true={cvupl}>{fileName}</template>
                            <lightning-file-upload label="Attach Resume" name="fileUploader" accept={acceptedFormats} record-id={myRecordId} onuploadfinished={handleUploadFinished} multiple></lightning-file-upload>
                            
                            <div class="slds-form-element slds-m-bottom_medium" style="padding-left:275px;">
                                <button class="slds-button slds-button_brand" type="submit" name="submit" style="background-color: #005290; border: none;">Submit</button>
                            </div>
                            
                           
                        </form>
                </template>
                <template if:true={guest}>
                     <h1>You need to loggin first to apply</h1>
                </template>
                
                
            </lightning-tab>
        
    </lightning-tabset>
</lightning-modal-body>
<lightning-modal-footer>
    <lightning-button label="OK" onclick={handleOkay}></lightning-button>
</lightning-modal-footer>
</template>

